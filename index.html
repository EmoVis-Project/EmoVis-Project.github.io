
<html>

<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>EI Design Space</title>
	
	
	<script type="text/javascript" src="libs/d3.v4.min.js"></script>
	<script type="text/javascript" src="libs/echarts.min.js"></script>
	<script type="text/javascript" src="libs/echarts-gl.min.js"></script>
	<script type="text/javascript" src="libs/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="data/content.js"></script>
	<script type="text/javascript" src="data/scatter2.js"></script>

	<!-- <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'> -->
	<!-- <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'> -->
	<link rel="stylesheet" type="text/css" href="libs/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/css.css">

</head>


<body>



	<!-- table  -->
	<!-- <div class="container-fluid text-center" id="major"> -->
		
		
	<!-- <a class="DownButtonNormal" 
	name="DownLoadHistEvent" 
	download="EmotionInfoG.csv" 
	href="http://beijingair.sinaapp.com/data/beijing/all/20131205/csv">
	<img src="src/download.png" height="20px" width="20px"/>
	Data
	</a> -->
	<div id="maskColor" style="background: linear-gradient(to right, #007FE4 0%,#00C1FF 100%);">
	    <img src="src/smile.png" width="30px" style="margin-top: 20px;margin-left: 20px;position:absolute"/>  
		<h1 class="major" >What Triggers Emotional Responses in an Infographic?</h1>
		<button class = "tab_button_d" onclick="setTab('one',1,2)" id="one1" >design space</button>
		<button class = "tab_button_s" onclick="setTab('one',2,2)" id="one2">data set</button>
		<button class = "button_c" onclick="changeColor()" ><img src="src/color.png" width="25px" style="margin-right: 5px;"></button>
	
		
	</div>


	<!-- <div style="width: 500px;text-align: center;"> 
		<p>
		Here is intro.
		xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
		xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

		</p>
	</div> -->

	<!-- <p style="margin-left: 650px;font-size: 10px;">Copyright©2020 Intelligent Big Data Visualization Lab, Tongji University ,Shanghai, China</p>
	 -->

	








	<div style="display: none;" id="con_one_2"  > 
		<div    id="scatter2D"></div>
		<div    id="scatter3D"></div>>
	</div>




	<div id="con_one_1" style="display: block;" >
		<p class= "sub"> Interactive Design Space</p>
	  
	<div class="container-fluid" id="ds-container">
		<div class="col-md-10 col-md-offset-1">
		<table class="table table-condensed table-bordered" id="design-space" style="table-layout:automatic;border-radius: 5px;">
			<tbody>

				<!-- <tr>
                    <td colspan="2" class="no-border"><b></b></td>
					<td colspan="37" class="heavy-bottom"><b >HINTS TO TRIGGER WANTED EMOTIONS</b></td>
                </tr> -->
                
                
				<tr>
                    <td colspan="2" class="no-border"><b></b></td>
                    <td colspan="10" class="heavy-bottom black" title="xxx" deta-title><b style="color:white">GRAPHIC DESIGN</b></td>
                    <td colspan="11" class="heavy-bottom black" title="xxx" deta-title><b style="color:white">NARRATIVE</b></td>
                </tr>
                
                <tr>
                    <td colspan="2" class="no-border"><b></b></td>
                    <td colspan="6" class="heavy-bottom-2 dimblue" title="xx" deta-title><b style="color:white;font-size: 9px;">Data Visualization</b></td>
                    <td colspan="4" class="heavy-bottom-2 dimblue" title="xx" deta-title><b style="color:white;font-size: 10px;">Decoration</b></td>
                    <td colspan="5" class="heavy-bottom-2 dimblue" title="xx" deta-title><b style="color:white;font-size: 10px;">Data Explanation</b></td>
					<td colspan="6" class="heavy-bottom-2 dimblue" title="xx" deta-title><b style="color:white;font-size: 10px;">Rhetorics</b></td>
				</tr>

				<!-- <tr>
                    <td colspan="2" class="no-border"><b></b></td>
                    <td colspan="4" class="heavy-bottom" title="Presentation of Information(呈现方式)" deta-title><b>Method</b></td>
					<td colspan="2" class="heavy-bottom" title="Technique of data Rendering(数据渲染)" deta-title><b>Rendering</b></td>
					<td colspan="3" class="heavy-bottom" title="Degree of Decoration(装饰程度)" deta-title><b>Data Ink Ratio<b></td> 
					<td colspan="4" class="heavy-bottom" title="Decorative Techniques(装饰手法)" deta-title><b>Method<b></td> 
					<td colspan="2" class="heavy-bottom" title="Add Meaning to Colors(为颜色添加意义)" deta-title><b>Semantics</b></td>
					<td colspan="4" class="heavy-bottom" title="Color Ccheme(配色方案)" deta-title><b>Scheme</b></td>
					<td colspan="3" class="heavy-bottom" title="Single Visualization as the Core(单个可视化)" deta-title><b>Single</b></td>
					<td colspan="5" class="heavy-bottom" title="Multiple visualizations exist at the same time(多个可视化)" deta-title><b>Multiple</b></td>
					<td colspan="4" class="heavy-bottom" title="Using rhetoric(使用修辞)" deta-title><b>Figurative Language</b></td>
					<td colspan="4" class="heavy-bottom" title="Dialogue with readers(与读者对话)" deta-title><b>Dialogue</b></td>
					<td colspan="3" class="heavy-bottom" title="Design plot(设计情节)" deta-title><b>Plot</b></td>
				</tr> -->



				<tr style="height: 200px;">
						<td name="si1" class="heavy-left" ><div style="margin-top: 100px;text-align: center;font-weight:900;"><span><small>Emotions</small></span></div></td>
						<td name="si2" class="heavy-left" ><div style="margin-top: 100px;text-align: center;font-weight:900;"><span><small>Number<br>of <br>Examples</small></span></div></td>

						<td name="si01" class=" si01 rotate">	<div>	<span>	<small id="si01">	color pallat	</small>	</span>	</div>	</td>
						<td name="si02" class=" si02 rotate">	<div>	<span>	<small id="si02">	semantic color	</small>	</span>	</div>	</td>
						<td name="si03" class=" si03 rotate">	<div>	<span>	<small id="si03">	pictogram	</small>	</span>	</div>	</td>
						<td name="si04" class=" si04 rotate">	<div>	<span>	<small id="si04">	visual metaphor	</small>	</span>	</div>	</td>
						<td name="si05" class=" si05 rotate">	<div>	<span>	<small id="si05">	multidimensional metaphor	</small>	</span>	</div>	</td>
						<td name="si06" class=" si06 rotate">	<div>	<span>	<small id="si06">	embodied positioning	</small>	</span>	</div>	</td>
						<td name="si07" class=" si07 rotate">	<div>	<span>	<small id="si07">	custom illustration	</small>	</span>	</div>	</td>
						<td name="si08" class=" si08 rotate">	<div>	<span>	<small id="si08">	realistic texture	</small>	</span>	</div>	</td>
						<td name="si09" class=" si09 rotate">	<div>	<span>	<small id="si09">	scenery/idea framing	</small>	</span>	</div>	</td>
						<td name="si10" class=" si10 rotate">	<div>	<span>	<small id="si10">	photo of human face	</small>	</span>	</div>	</td>
						<td name="si11" class=" si11 rotate">	<div>	<span>	<small id="si11">	emphasis	</small>	</span>	</div>	</td>
						<td name="si12" class=" si12 rotate">	<div>	<span>	<small id="si12">	contrast / turning point	</small>	</span>	</div>	</td>
						<td name="si13" class=" si13 rotate">	<div>	<span>	<small id="si13">	narrowing down	</small>	</span>	</div>	</td>
						<td name="si14" class=" si14 rotate">	<div>	<span>	<small id="si14">	analogy	</small>	</span>	</div>	</td>
						<td name="si15" class=" si15 rotate">	<div>	<span>	<small id="si15">	deliberate omission	</small>	</span>	</div>	</td>
						<td name="si16" class=" si16 rotate">	<div>	<span>	<small id="si16">	addressing the audience	</small>	</span>	</div>	</td>
						<td name="si17" class=" si17 rotate">	<div>	<span>	<small id="si17">	calling to action / slogan	</small>	</span>	</div>	</td>
						<td name="si18" class=" si18 rotate">	<div>	<span>	<small id="si18">	rhetorical question	</small>	</span>	</div>	</td>
						<td name="si19" class=" si19 rotate">	<div>	<span>	<small id="si19">	metaphor / simile	</small>	</span>	</div>	</td>
						<td name="si20" class=" si20 rotate">	<div>	<span>	<small id="si20">	personification	</small>	</span>	</div>	</td>
						<td name="si21" class=" si21 rotate">	<div>	<span>	<small id="si21">	irony	</small>	</span>	</div>	</td>
						

						
						
	            <tr>
					<td class="heavy-left"><b>happy<br>excited<br>content<br>hopeful</b></td>
					<td class="heavy-left"><b name="s1Sum">35</b></td>
					<td name="s101"  class="active-cell s101"	>	10	</td>
<td name="s102"  class="active-cell s102"	>	28	</td>
<td name="s103"  class="active-cell s103"	>	7	</td>
<td name="s104"  class="active-cell s104"	>	4	</td>
<td name="s105"  class="active-cell s105"	>	7	</td>
<td name="s106"  class="active-cell s106"	>	9	</td>
<td name="s107"  class="active-cell s107"	>	9	</td>
<td name="s108"  class="active-cell s108"	>	17	</td>
<td name="s109"  class="active-cell s109"	>	9	</td>
<td name="s110"  class="active-cell s110"	>	19	</td>
<td name="s111"  class="active-cell s111"	>	5	</td>
<td name="s112"  class="active-cell s112"	>	2	</td>
<td name="s113"  class="active-cell s113"	>	4	</td>
<td name="s114"  class="active-cell s114"	>	5	</td>
<td name="s115"  class="active-cell s115"	>	14	</td>
<td name="s116"  class="active-cell s116"	>	9	</td>
<td name="s117"  class="active-cell s117"	>	7	</td>
<td name="s118"  class="active-cell s118"	>	11	</td>
<td name="s119"  class="active-cell s119"	>	8	</td>
<td name="s120"  class="active-cell s120"	>	4	</td>
<td name="s121"  class="active-cell s121"	>	1	</td>
<td name="s122"  class="active-cell s122"	>	13	</td>
<td name="s123"  class="active-cell s123"	>	5	</td>
<td name="s124"  class="active-cell s124"	>	2	</td>
<td name="s125"  class="active-cell s125"	>	9	</td>
<td name="s126"  class="active-cell s126"	>	0	</td>
<td name="s127"  class="active-cell s127"	>	1	</td>
<td name="s128"  class="active-cell s128"	>	0	</td>
<td name="s129"  class="active-cell s129"	>	0	</td>
<td name="s130"  class="active-cell s130"	>	0	</td>
<td name="s131"  class="active-cell s131"	>	0	</td>
<td name="s132"  class="active-cell s132"	>	0	</td>
<td name="s133"  class="active-cell s133"	>	1	</td>
<td name="s134"  class="active-cell s134"	>	0	</td>
<td name="s135"  class="active-cell s135"	>	3	</td>
<td name="s136"  class="active-cell s136"	>	0	</td>
<td name="s137"  class="active-cell s137"	>	0	</td>
<td name="s138"  class="active-cell s138"	>	0	</td>

	
				</tr>



	            <tr>
					<td class="heavy-left"><b>suprised</b></td>
					<td class="heavy-left"><b name="s2Sum">75</b></td>
					<td name="s201"  class="active-cell s201"	>	23	</td>
					<td name="s202"  class="active-cell s202"	>	60	</td>
					<td name="s203"  class="active-cell s203"	>	27	</td>
					<td name="s204"  class="active-cell s204"	>	2	</td>
					<td name="s205"  class="active-cell s205"	>	20	</td>
					<td name="s206"  class="active-cell s206"	>	13	</td>
					<td name="s207"  class="active-cell s207"	>	28	</td>
					<td name="s208"  class="active-cell s208"	>	29	</td>
					<td name="s209"  class="active-cell s209"	>	17	</td>
					<td name="s210"  class="active-cell s210"	>	27	</td>
					<td name="s211"  class="active-cell s211"	>	3	</td>
					<td name="s212"  class="active-cell s212"	>	11	</td>
					<td name="s213"  class="active-cell s213"	>	8	</td>
					<td name="s214"  class="active-cell s214"	>	5	</td>
					<td name="s215"  class="active-cell s215"	>	14	</td>
					<td name="s216"  class="active-cell s216"	>	21	</td>
					<td name="s217"  class="active-cell s217"	>	16	</td>
					<td name="s218"  class="active-cell s218"	>	28	</td>
					<td name="s219"  class="active-cell s219"	>	10	</td>
					<td name="s220"  class="active-cell s220"	>	9	</td>
					<td name="s221"  class="active-cell s221"	>	0	</td>
					<td name="s222"  class="active-cell s222"	>	34	</td>
					<td name="s223"  class="active-cell s223"	>	8	</td>
					<td name="s224"  class="active-cell s224"	>	2	</td>
					<td name="s225"  class="active-cell s225"	>	22	</td>
					<td name="s226"  class="active-cell s226"	>	2	</td>
					<td name="s227"  class="active-cell s227"	>	3	</td>
					<td name="s228"  class="active-cell s228"	>	0	</td>
					<td name="s229"  class="active-cell s229"	>	0	</td>
					<td name="s230"  class="active-cell s230"	>	6	</td>
					<td name="s231"  class="active-cell s231"	>	1	</td>
					<td name="s232"  class="active-cell s232"	>	0	</td>
					<td name="s233"  class="active-cell s233"	>	1	</td>
					<td name="s234"  class="active-cell s234"	>	4	</td>
					<td name="s235"  class="active-cell s235"	>	7	</td>
					<td name="s236"  class="active-cell s236"	>	2	</td>
					<td name="s237"  class="active-cell s237"	>	1	</td>
					<td name="s238"  class="active-cell s238"	>	1	</td>
					

				</tr>


				<tr>
					<td class="heavy-left"><b>awestruck</b></td>
					<td  class="heavy-left"><b name="s3Sum">18</b></td>
					<td name="s301"  class="active-cell s301"	>	0	</td>
					<td name="s302"  class="active-cell s302"	>	3	</td>
					<td name="s303"  class="active-cell s303"	>	2	</td>
					<td name="s304"  class="active-cell s304"	>	1	</td>
					<td name="s305"  class="active-cell s305"	>	1	</td>
					<td name="s306"  class="active-cell s306"	>	1	</td>
					<td name="s307"  class="active-cell s307"	>	4	</td>
					<td name="s308"  class="active-cell s308"	>	3	</td>
					<td name="s309"  class="active-cell s309"	>	0	</td>
					<td name="s310"  class="active-cell s310"	>	0	</td>
					<td name="s311"  class="active-cell s311"	>	3	</td>
					<td name="s312"  class="active-cell s312"	>	0	</td>
					<td name="s313"  class="active-cell s313"	>	1	</td>
					<td name="s314"  class="active-cell s314"	>	0	</td>
					<td name="s315"  class="active-cell s315"	>	0	</td>
					<td name="s316"  class="active-cell s316"	>	3	</td>
					<td name="s317"  class="active-cell s317"	>	1	</td>
					<td name="s318"  class="active-cell s318"	>	1	</td>
					<td name="s319"  class="active-cell s319"	>	1	</td>
					<td name="s320"  class="active-cell s320"	>	1	</td>
					<td name="s321"  class="active-cell s321"	>	0	</td>
					<td name="s322"  class="active-cell s322"	>	3	</td>
					<td name="s323"  class="active-cell s323"	>	1	</td>
					<td name="s324"  class="active-cell s324"	>	0	</td>
					<td name="s325"  class="active-cell s325"	>	1	</td>
					<td name="s326"  class="active-cell s326"	>	0	</td>
					<td name="s327"  class="active-cell s327"	>	0	</td>
					<td name="s328"  class="active-cell s328"	>	0	</td>
					<td name="s329"  class="active-cell s329"	>	0	</td>
					<td name="s330"  class="active-cell s330"	>	0	</td>
					<td name="s331"  class="active-cell s331"	>	0	</td>
					<td name="s332"  class="active-cell s332"	>	0	</td>
					<td name="s333"  class="active-cell s333"	>	0	</td>
					<td name="s334"  class="active-cell s334"	>	0	</td>
					<td name="s335"  class="active-cell s335"	>	1	</td>
					<td name="s336"  class="active-cell s336"	>	1	</td>
					<td name="s337"  class="active-cell s337"	>	0	</td>
					<td name="s338"  class="active-cell s338"	>	0	</td>
					
					
					
				</tr>

				<tr>
					<td class="heavy-left"><b>sad<br>concerned<br>shocked</b></td>
					<td  class="heavy-left"><b name="s4Sum">123</b></td>
					<td name="s401"  class="active-cell s401"	>	41	</td>
					<td name="s402"  class="active-cell s402"	>	109	</td>
					<td name="s403"  class="active-cell s403"	>	57	</td>
					<td name="s404"  class="active-cell s404"	>	8	</td>
					<td name="s405"  class="active-cell s405"	>	33	</td>
					<td name="s406"  class="active-cell s406"	>	7	</td>
					<td name="s407"  class="active-cell s407"	>	64	</td>
					<td name="s408"  class="active-cell s408"	>	34	</td>
					<td name="s409"  class="active-cell s409"	>	24	</td>
					<td name="s410"  class="active-cell s410"	>	29	</td>
					<td name="s411"  class="active-cell s411"	>	20	</td>
					<td name="s412"  class="active-cell s412"	>	9	</td>
					<td name="s413"  class="active-cell s413"	>	9	</td>
					<td name="s414"  class="active-cell s414"	>	25	</td>
					<td name="s415"  class="active-cell s415"	>	28	</td>
					<td name="s416"  class="active-cell s416"	>	45	</td>
					<td name="s417"  class="active-cell s417"	>	23	</td>
					<td name="s418"  class="active-cell s418"	>	35	</td>
					<td name="s419"  class="active-cell s419"	>	19	</td>
					<td name="s420"  class="active-cell s420"	>	5	</td>
					<td name="s421"  class="active-cell s421"	>	0	</td>
					<td name="s422"  class="active-cell s422"	>	36	</td>
					<td name="s423"  class="active-cell s423"	>	37	</td>
					<td name="s424"  class="active-cell s424"	>	10	</td>
					<td name="s425"  class="active-cell s425"	>	21	</td>
					<td name="s426"  class="active-cell s426"	>	12	</td>
					<td name="s427"  class="active-cell s427"	>	2	</td>
					<td name="s428"  class="active-cell s428"	>	4	</td>
					<td name="s429"  class="active-cell s429"	>	3	</td>
					<td name="s430"  class="active-cell s430"	>	3	</td>
					<td name="s431"  class="active-cell s431"	>	2	</td>
					<td name="s432"  class="active-cell s432"	>	3	</td>
					<td name="s433"  class="active-cell s433"	>	5	</td>
					<td name="s434"  class="active-cell s434"	>	10	</td>
					<td name="s435"  class="active-cell s435"	>	15	</td>
					<td name="s436"  class="active-cell s436"	>	4	</td>
					<td name="s437"  class="active-cell s437"	>	1	</td>
					<td name="s438"  class="active-cell s438"	>	0	</td>
					
					
					
				</tr>
			<tbody>
		</table>

		<!-- <p style="text-align: center;font-size: 10px;">Copyright©2020 Intelligent Big Data Visualization Lab, Tongji University ,Shanghai, China</p> -->


</div>

</div>










	

	<!-- detail infoG -->

	<div class="container-fluid" id="cue-overlay-container"> 
		
			<button class='glyphicon-close'>
				<!-- <img src="src/close.png"  height="10" width="10" style="margin-right: 5px;"/> -->
			</button>

		
	<div class="container-img"> 
	<div class="imgShow"><a href="images/temp_img02.jpg"><img src="images/temp_img02.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img03.jpg"><img src="images/temp_img03.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img04.jpg"><img src="images/temp_img04.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img05.jpg"><img src="images/temp_img05.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img06.jpg"><img src="images/temp_img06.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img07.jpg"><img src="images/temp_img07.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img08.jpg"><img src="images/temp_img08.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img09.jpg"><img src="images/temp_img09.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img10.jpg"><img src="images/temp_img10.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img11.jpg"><img src="images/temp_img11.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img12.jpg"><img src="images/temp_img12.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img13.jpg"><img src="images/temp_img13.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img14.jpg"><img src="images/temp_img14.jpg" width="380px"/></a></div>
	<div class="imgShow"><a href="images/temp_img15.jpg"><img src="images/temp_img15.jpg" width="380px"/></a></div>
    </div>


	</div>


</div>





	<script type="text/javascript">
		document.getElementsByClassName = function(className, tag, elm) {   
			var testClass = new RegExp("(^|\s)" + className + "(\s|$)");   
			var tag = tag || "*";   
			var elm = elm || document;   
			var elements = (tag == "*" && elm.all)? elm.all : elm.getElementsByTagName(tag);   
			var returnElements = [];   
			var current;   
			var length = elements.length;   
			for(var i=0; i<length; i++){   
				current = elements[i];   
				if(testClass.test(current.className)){   
					returnElements.push(current);   
				}   
			}   
			return returnElements;   
		}
			   
		var margin = 10;
		var boxes = document.getElementsByClassName('imgShow');
		var con = document.getElementsByClassName('container-fluid');//fix
		var text = document.getElementsByTagName('h4');
		var boxWidth = boxes[0].offsetWidth+margin;
		function show () {
			var columnHeight=[];
			var bodyWidth = document.body.offsetWidth;
			var n = parseInt(bodyWidth/boxWidth);
			var columnNum = n==0?1:n;
			var bodyLeft = bodyWidth>=boxWidth?bodyWidth-columnNum*boxWidth:0;
			con[0].style.left = parseInt(bodyLeft/2)-margin/2+'px';
			for (var i = 0,l=boxes.length; i <l ; i++) {
				if (i<columnNum) {
					columnHeight[i]=boxes[i].offsetHeight+margin;
					boxes[i].style.top = 0;
					boxes[i].style.left = i*boxWidth+margin+'px';
				} else{
					var innsertColumn = min(columnHeight),
						imgHeight = boxes[i].offsetHeight+margin;
					boxes[i].style.top = columnHeight[innsertColumn]+'px';
					boxes[i].style.left = innsertColumn*boxWidth+margin+'px';
					columnHeight[innsertColumn] +=imgHeight; 
				};
		
			};
		};
		function min (heightAarry) {
			var minColumn = 0;
			var minHeight = heightAarry[minColumn];
			for (var i = 1,len=heightAarry.length; i < len; i++) {
				var temp = heightAarry[i];
				if (temp < minHeight) {
					minColumn = i;
					minHeight = temp;
				};
			};
			return minColumn;
		}
		window.onload = function(){show();};
		window.onresize = function(){show();};
		
		</script>


<script type="text/javascript">
	//tab切换效果
	function setTab(name, cursel, n) {
	  for(var i = 1; i <= n; i++) {
		  console.log(name + i)
		var menu = document.getElementById(name + i);
		var con = document.getElementById("con_" + name + "_" + i);
       //被点击后
		if(i == cursel){
			menu.style.color =  "black";
			menu.style.background =  "#FFE82D";
		}
		else{
			menu.style.color =  "white";
			menu.style.background =  "transparent";
		}
		con.style.display = i == cursel ? "block" : "none";
	  }
	}

	//默认选中
	document.getElementById("one1").click();
  </script>




	<!-- draw function -->


	<script type="text/javascript">

//color
var colName ;
var sumName;

for(var c = 1;c<=4;c++){
for(var r =1;r<=38;r++){
	colName = "s"+c+r;
	sumName = "s"+c+"Sum";
	if(r<=9){colName = "s"+c+"0"+r;}

	var parent = document.getElementsByName(colName)[0];
	var value = parent.innerHTML;
	var sum = document.getElementsByName(sumName)[0].innerHTML;
	var ratio = value/sum;
// console.log(sum,ratio)
	if(0.8<=ratio){
		var img = document.createElement("img");
		img.setAttribute("src", "src/star.png");
		img.setAttribute("height", "10px");
		img.setAttribute("width", "10px");
        parent.appendChild(img);
		parent.style.setProperty('background-color', '#dce4f7');}
	if(0.4<=ratio&&ratio<0.8){
		var img = document.createElement("img");
		img.setAttribute("src", "src/star.png");
		img.setAttribute("height", "10px");
		img.setAttribute("width", "10px");
        parent.appendChild(img);
		parent.style.setProperty('background-color', '#dce4f7');}
	if(0.1<=ratio&&ratio<0.4){parent.style.setProperty('background-color', '#dce4f7');}
	if(0<ratio&&ratio<0.1){parent.style.setProperty('background-color', '#dce4f7');}
	



}

}



	</script>


    <!-- click function -->

	<script type="text/javascript">

//tooltip
function detaTitle(){
    var deta_title = document.querySelectorAll("[deta-title]");
    for (var i = 0; i < deta_title.length; i++){
        deta_title[i].setAttribute("deta-title",deta_title[i].getAttribute("title"));
        deta_title[i].removeAttribute("title");
    }
}
detaTitle();


//loading
/*

var int=self.setInterval("clock()",50);
function clock()
{
document.getElementById("loading").innerHTML="loading";
}
function imgLoad(img, callback) {
var timer = setInterval(function() {

var int=self.setInterval("clock()",50);
function clock()
{
document.getElementById("loading").innerHTML="loading";
}

	console.log(img.complete)
if (img.complete) {
callback(img)
clearInterval(timer)
}else{
	document.getElementById("loading").innerHTML="loading";
}
}, 10)
}

imgLoad(gif, function() {
	document.getElementById("loading").innerHTML="loaded";
})

*/


//d3 事件
		var url = window.location.href,
			idx = 0,
			idp = 0,
			idl = 0;

		var skill = 0;
		var emotion = 0;
		var emotionText = 0;
		var table = new Array();

		url = url.split("?");
		
		if(url.length > 1){
			idx = parseInt(url[1]) - 1;
			d3.select("#cue-overlay-container")
				.classed("show",true);
		};

		d3.selectAll(".active-cell")
			.on("mouseover",function(){
				var classname = d3.select(this).attr("name");
				d3.selectAll("." + classname)
					.classed("highlighted",true);
					// .style("highlighted",true);
				// d3.selectAll(".active-cell")
				//   .classed("highlighted",true);
				return;
			})
			.on("mouseout",function(){
				var classname = d3.select(this).attr("name");
				d3.selectAll("." + classname)
					.classed("highlighted",false);
				return;
			})
			.on("mouseup",function(){
				var classname = d3.select(this).attr("name");
				//获取格子的横纵属性用于查询
				skill = "si"+ classname.slice(2,4);
				emotion = classname.slice(1,2);  //1 happy 2 surprised 3 a  4 concerned
				switch(emotion) {
    			 case "1":
				 emotion = "happy";
				 emotionText = "happy/excited/content/hopeful";
      			  break;
     			case "2":
				 emotion = "surprised";
				 emotionText= "surprised";
						break;
				case "3":
				emotionText = emotion = "awestruck";
				break;
				case "4":
				emotion = "concerned";
				emotionText ="sad/concerned/shocked";
       			 break;
   				  default:
      			  return null;
				}
				
				//动态创建查询列表
				table.length = 0; //refresh
				for(var i=0;i<cues.length;i++){
					
                if(cues[i].index.indexOf(emotion)  != -1  && cues[i][skill] == 1){
					table.push(cues[i]);
				}
				}
				
                idp = 0;
				idl = table.length;  //length 查询到的所有图片的length
				if(idl!=0){
					addContent(table);
					d3.select("#cue-overlay-container")
					.classed("show",true);}
			
				return;		
			});

		function addContent(table){
       //需要vpn
			var	data = table!=""?table[idp]:cues[3];
			    title = d3.select("#title"),
				description = d3.select("#description").select("p"),
				source = d3.select("#source"),
				gif = d3.select("#gif"),
				topic = d3.select("#topic"),
				dim1 = d3.select("#d1"),
				dim2 = d3.select("#d2"),
				dim3 = d3.select("#d3"),
				dim4 = d3.select("#d4"),
				dim5 = d3.select("#d5"),
				dim6 = d3.select("#d6"),
				// dim7 = d3.select("#d7");
			title.html(emotionText+" "+(idp+1)+"/"+idl);
			gif.attr("src",data.link )
				.attr("loop","infinite");
			var src = data.link; //识别本地图片和网络图片
				if(data.link.indexOf("src/")!=-1){src ="https://infographics-test.s3-us-west-1.amazonaws.com/"+data.link.slice(4) }
			source.html("<a href='" + src + "'>" + src + "</a>");
			topic.html(data.topic);
			description.html(data.des);

			var skillList1 = [];
			var skillList2 = [];
			var skillList3 = [];
			var skillList4 = [];
			var skillList5 = [];
			var skillList6 = [];
	// document.getElementById("gif").src = data.link;
			for(var m = 1;m<39;m++){
				var skillNum = "si"+m;
				if(m<10){skillNum = "si"+"0"+m;}
				if(data[skillNum]==1  &&  document.getElementById(skillNum)){
					if(0<m && m<=6){
						// if(skillList1==""){skillList1.push("●  "+document.getElementById(skillNum).innerHTML)}
						// else{skillList1.push("<br>●  "+document.getElementById(skillNum).innerHTML)}
						skillList1.push("<br>●  "+document.getElementById(skillNum).innerHTML)
						}
					if(6<m && m<=13){
						skillList2.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
					if(13<m&& m<=19){
						skillList3.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
					if(19<m && m<=27){
						skillList4.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
					if(27<m && m<=31){ 
						skillList5.push("<br>●  "+document.getElementById(skillNum).innerHTML)}
					if(31<m){
						skillList6.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
				}
			}//为每张图片定制显示的skill


			if(skillList2=="")
			{skillList2.push("None");}
			if(skillList3=="")
			{skillList3.push("None");}
			if(skillList4=="")
			{skillList4.push("None");}
			if(skillList5=="")
			{skillList5.push("None");}
			if(skillList6=="")
			{skillList6.push("None");}

			dim1.html(skillList1);
			dim2.html(skillList2);
			dim3.html(skillList3);
			dim4.html(skillList4);
			dim5.html(skillList5);
			dim6.html(skillList6);
			// dim7.html(data.d7);
			return;
		};

		addContent(table);
		d3.select(".chevron-right")
			.on("mouseup",function(){
				if(idp < idl-1){  //length
					idp = idp + 1;
				}else{
					idp = 0;
				};
				addContent(table);
			});
		d3.select(".chevron-left")
			.on("mouseup",function(){
				if(idp > 0){
					idp = idp - 1;
				}else{
					idp = idl-1;
				};
				addContent(table);
			});
		d3.select(".glyphicon-close")
			.on("mouseup",function(){
				d3.select("#cue-overlay-container")
					.classed("show",false);
				return;
			});
</script>


	</script>

<script>
	//切换颜色

    //title色*2，按钮高亮色，边框色和填充色
	var colorset = [
		["#007FE4","#00C1FF","#FFE82D","#cdd7e3"],
		['#fc5185','#f5f5f5','#3fc1c9','#364f6b'],
		['#769fcd','#b9d7ea','#d6e6f2','#f7fbfc'],
		['#a6d0e4','#f9ffea','#ffecda','#d4a5a5'],
		['#aedefc','#fff6f6','#ffdfdf','#fb929e'],
		['#2f435e','#44566c','#ececec','#4b5e65'],
['#ea9a4a','#56b4b7','#c73237','#87b748'],
['#962d21','#df4937','#ededed','#333333'],
['#d76050','#4f6ea2','#798ba1','#a12d1c'],
['#363636','#b82b21','#62aaa7','#f6f6f6'],
['#C58ADE','#B1BEEA','#90C4E9','#8095CE'],
['#F7DB70','#EABEBF','#75CCE8','#A5DEE5'],
['#FFE5C0','#EAD2DF','#EDB5D2','#C8A8DA'],
['#879E46','#BBD5A6','#FBCEB9','#FEBD3D'],
['#FF5685','#FED154','#FEB25E','#6AC7E6'],
['#FB93AC','#9BC768','#FDC7D4','#FDD84C'],
['#FFDFA2','#BFE4FF','#A3B5FD','#C3C5F8'],
['#60EFDB','#BEF2E5','#C5E7F1','#79CEED'],
['#A8DEE0','#F9E2AE','#FBC78D','#A7D676'],
['#89D5C9','#FAC172','#FF8357','#E25B45'],
['#D2A8B2','#EDE1E5','#DAE6E4','#EECF65'],
	]
	function changeColor(){

		var maxC= colorset.length;
        var changeC = Math.ceil(Math.random()*maxC);
		console.log(changeC,colorset[changeC-1][0])

		document.getElementById("maskColor").style.background=colorset[changeC-1][0];
		for(var j = 0;j<document.getElementsByClassName("heavy-bottom-2 dimblue").length;j++){
			document.getElementsByClassName("heavy-bottom-2 dimblue")[j].style.background=colorset[changeC-1][2];
		}
		for(var m= 0;m<document.getElementsByClassName("heavy-left").length;m++){
			document.getElementsByClassName("heavy-left")[m].style.border="1px solid "+colorset[changeC-1][3];
		}

		for (var i=1; i<=38; i++){ //表格属性数
        var siN = i<10?document.getElementsByName("si0"+i)[0]:document.getElementsByName("si"+i)[0];
		siN.style.border="1px solid "+colorset[changeC-1][3];
    }

	for (var i=1; i<=4; i++){ //表格属性数
	for(var j=1; j<=38; j++){
        var sN = j<10?document.getElementsByName("s"+i+"0"+j)[0]:document.getElementsByName("s"+i+j)[0];
		sN.style.border="1px solid "+colorset[changeC-1][3];
		sN.style.background=colorset[changeC-1][1];
	}
    }
		
		


	}
</script>


<script type="text/javascript">
//echarts
	// 基于准备好的dom，初始化echarts实例
	 var scatter2d = echarts.init(document.getElementById('scatter2D'));

	 //--------------------
	option = {
    xAxis: {},
    yAxis: {},
    series: [
	//两个序列	
	{
        symbolSize: 2,
        data: scatter2,
		type: 'scatter',
		itemStyle: {
            shadowBlur: 10,
            shadowColor: 'rgba(120, 36, 50, 0.5)',
            shadowOffsetY: 5,
            color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                offset: 0,
                color: 'rgb(251, 118, 123)'
            }, {
                offset: 1,
                color: 'rgb(204, 46, 72)'
            }])
        }
	},
	{
        symbolSize: 10,
        data: scatter2_cat,
		type: 'scatter',
		itemStyle: {
            shadowBlur: 10,
            shadowColor: 'rgba(25, 100, 150, 0.5)',
            shadowOffsetY: 5,
            color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                offset: 0,
                color: 'rgb(129, 227, 238)'
            }, {
                offset: 1,
                color: 'rgb(25, 183, 207)'
            }])
        }
    }
],

   title: {
            text: 'xxxxxx',
            subtext: 'By xxxxx',
            // sublink: 'https://github.com/ecomfe/echarts-stat',
            left: 'center'
        },

};

// option2 = {
//     xAxis: {},
//     yAxis: {},
//     series: [{
//         symbolSize: 5,
//         data: scatter2_cat,
//         type: 'scatter'
//     }]
// };



	 // 使用刚指定的配置项和数据显示图表。
	 scatter2d.setOption(option);
	//  scatter2d.setOption(option2);


	//color
	



	 //3d
	 var scatter3d = echarts.init(document.getElementById('scatter3D'));

	//  var datas=[["井深","Y坐标","人口密度","X坐标","Year"],
	//                   [10,14,11,2014],
	//                   [11,25,22,2015],
	//                   [12,36,33,2016],
	//                   [13,47,40,2017]
	//                  ];
	var datas = scatter3;
	 var x_min=-1,
	 x_max=1,
	 y_min=-1,
	 y_max=1,
	 xuanzhuan=0;
	 //------------------------
	 option3D = {
		        grid3D:  {
		        	boxWidth:  122,						//图件宽
		        	boxHeight: 122,						//图件高
		        	boxDepth:  60,						//图件长
		        	height: '100%',						//容器高
		        	width: '100%',						//容器宽
		        	bottom: 'auto',						//3D图与下容器的距离
	        		top:'auto',			   				//3D图与上容器的距离
		        	axisLine:{
		        		lineStyle:{
		        			color:'white' 				//坐标轴轴线颜色
		        		}
		        	},
				    splitLine:{
				    	lineStyle:{
		        			color:'white'  				//分割线颜色
		        		}
					},
					axisPointer:{
						lineStyle:{
		        			color:'white' 				//鼠标滑过分割线颜色
		        		}
					},
					environment: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
						  offset: 0, color: '#2F4F4F' 	// 天空颜色
						}, {
						  offset: 0.7, color: '#2F4F4F' // 地面颜色
						}, {
						  offset: 1, color: '#2F4F4F' 	// 地面颜色
						}], false),
					postEffect:{
						enable:false					//开启特效
					},
					viewControl:{
						projection: 'perspective',		//默认为透视投影'perspective'，也支持设置为正交投影'orthographic'
						autoRotate: true,				//自动旋转
						autoRotateDirection: 'ccw',     //默认是 'cw' 从上往下看是顺时针 也可以取 'ccw'逆时针
						autoRotateSpeed: 4,				//默认10 自转速度
						autoRotateAfterStill: 5,		//默认3秒 鼠标静止操作后恢复自动旋转的时间间隔
						damping: 0.8,					//鼠标进行旋转，缩放等操作时的迟滞因子，在大于 0 的时候鼠标在停止操作后，视角仍会因为一定的惯性继续运动（旋转和缩放）
						animation: true,				//是否开启动画
						animationDurationUpdate: 1000,	//过渡动画的时长
						animationEasingUpdate: 'cubicInOut' //过渡动画的缓动效果
					},
					postEffect:{
						enable:false					//是否开启后处理特效，默认关闭 不能开  浏览器会卡
					}
		        },
		        xAxis3D: {
	        		show: true,
	        		name: 'X',
	        		nameTextStyle:{
	        			color: 'white',
		        		fontWeight: 'normal'
	        		},
	        		min:x_min,
	        		max:x_max
		        },
		        yAxis3D: {
		        	show: true,
	        		name: 'Y',
	        		nameTextStyle:{
	        			color: 'white',
	        			fontWeight: 'normal'
	        		},
	        		min:y_min,
	        		max:x_max
		        },
		        zAxis3D: {
		        	show: true,
	        		name: 'Z-cat',
	        		nameTextStyle:{
	        			color: 'white',
		        		fontWeight: 'normal'
	        		}
		        },
		        dataset: {
		            dimensions: [
		                'Z',
		                'Y',
		                'X',
		                {name: '井名', type: 'ordinal'}
		            ],
		            source: datas
		        },
		        series: [
		            {
		                type: 'scatter3D',				//3D类型
		                name: '测试',				    //名字
		                //coordinateSystem: 'grid3D',	//使用地球三维地理坐标系
		                //grid3DIndex: 0,				//坐标轴使用的 geo3D 组件的索引
		                symbol:'diamond',				//点形状 'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'
		                symbolSize: 3.5,  				//点大小
		                itemStyle: {
		                	color:'#2F4F4F',		   		//点颜色
		                	borderColor: '#2F4F4F',  		//点边框颜色
		                	opacity: 1,            		//点的透明度 1不透明
		                	borderWidth: 0.5       		//图形描边宽度
		                },
		                label:{
		                	show:false, 				//是否显示点上面的标签，默认false
		                	distance: 15,				//标签与点的距离
		                	position:'left',      		//标签位置
		                	textStyle:{
		                	    color:'#2F4F4F', 			//文字颜色
		                    	borderWidth:0,  		//标签上边框宽度
		                    	borderColor:'#2F4F4F',   	//边框颜色
		                    	fontFamily:'宋体',		//标签字体
		                    	fontSize:14,			//字体大小
		                    	fontWeight:'normal'		//是否加粗 
		                    }
		                },
		                emphasis:{
		                	itemStyle:{
		                		color:'#2F4F4F',			//鼠标移到点上的颜色变化
		                		opacity:1,				//不透明度
		                		borderWidth:0,			//图像描边宽度
		                		borderColor:'#fff' 		//图形描边颜色
		                	},
		                	label:{
		                		show:true,				//鼠标移动到点上是否显示标签
		                		distance: 15,			//标签与点的距离
		                    	position:'left',      	//标签位置
		                    	textStyle:{
		                    	    color:'#2F4F4F', 		//文字颜色
		                        	borderWidth:0,  	//标签上边框宽度
		                        	borderColor:'white',//边框颜色
		                        	fontFamily:'SimHei',	//标签字体
		                        	fontSize:14,		//字体大小
		                        	fontWeight:'normal'	//是否加粗 
		                        }
		                	}
		                },
		            	blendMode:'lighter',			//混合模式默认使用的'source-over'是通过 alpha 混合，而'lighter'是叠加模式，该模式可以让数据集中的区域因为叠加而产生高亮的效果。
		            	silent:false,					//图形是否不响应和触发鼠标事件，默认为 false，即响应和触发鼠标事件。
		            	animation:true,					//是否开启动画
		            	animationDurationUpdate:500,	//过渡动画的时长
		            	animationEasingUpdate:'cubicOut',//过渡动画的缓动效果
		                encode: {
		                    x: 'X坐标',
		                    y: 'Y坐标',
		                    z: '井深',
		                    tooltip: [0, 1, 2, 3, 4]
		                }
		            }
		        ]
		    };


	 	 // 使用刚指定的配置项和数据显示图表。
		  scatter3d.setOption(option3D);
	 
	 </script>

	

</body>

</html>