
<html>

<head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>EI Design Space</title>
	
	<script type="text/javascript" src="libs/d3.v4.min.js"></script>
	<script type="text/javascript" src="libs/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" src="data/content.js"></script>

	<!-- <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'> -->
	<!-- <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'> -->
	<link rel="stylesheet" type="text/css" href="libs/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/css.css">

</head>


<body>



	<!-- table  -->
	<div class="container-fluid text-center" id="major">
		
	<!-- <a class="DownButtonNormal" 
	name="DownLoadHistEvent" 
	download="EmotionInfoG.csv" 
	href="http://beijingair.sinaapp.com/data/beijing/all/20131205/csv">
	<img src="src/download.png" height="20px" width="20px"/>
	Data
	</a> -->
		<h1 class="major" title="信息图的情感设计空间" deta-title>What Triggers Emotional Responses in an Infographic?</h1>
	</div>

	<!-- <div style="width: 500px;text-align: center;"> 
		<p>
		Here is intro.
		xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
		xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

		</p>
	</div> -->

	<!-- <p style="margin-left: 650px;font-size: 10px;">Copyright©2020 Intelligent Big Data Visualization Lab, Tongji University ,Shanghai, China</p>
	 -->

	


	<div style="width: 500px;font-size:20px; margin-left: 110px;"> 
		<h1 class= "sub">
			● Interactive Design Space
		</h1>
	</div>


	
	<div class="container-fluid" id="ds-container">

		<div class="col-md-10 col-md-offset-1">
		<table class="table table-condensed table-bordered" id="design-space" style="table-layout:automatic;">
			<tbody>

				<!-- <tr>
                    <td colspan="2" class="no-border"><b></b></td>
					<td colspan="37" class="heavy-bottom"><b >HINTS TO TRIGGER WANTED EMOTIONS</b></td>
                </tr> -->
                
                
				<tr>
                    <td colspan="2" class="no-border"><b></b></td>
                    <td colspan="24" class="heavy-bottom"title="视觉设计" deta-title><b>VISUAL DESIGN</b></td>
                    <td colspan="11" class="heavy-bottom" title="故事叙述" deta-title><b>NARRATIVE</b></td>
                </tr>
                
                <tr>
                    <td colspan="2" class="no-border"><b></b></td>
                    <td colspan="6" class="heavy-bottom dimblue" title="数据" deta-title><b style="color:white">VISUAL REPRESENTATION</b></td>
                    <td colspan="4" class="heavy-bottom dimblue" title="装饰" deta-title><b style="color:white">ORNAMENTATION</b></td>
                    <td colspan="6" class="heavy-bottom dimblue " title="配色" deta-title><b style="color:white">COLOR</b></td>
					<td colspan="8" class="heavy-bottom dimblue " title="布局" deta-title><b style="color:white">ARRANGEMENT</b></td>
					<td colspan="4" class="heavy-bottom dimred " title="措辞" deta-title><b style="color:white">PHRASING</b></td>
                    <td colspan="7" class="heavy-bottom dimred" title="讲述" deta-title><b style="color:white">TELLING</b></td>
				</tr>

				<tr>
                    <td colspan="2" class="no-border"><b></b></td>
                    <td colspan="4" class="heavy-bottom" title="呈现方式" deta-title><b>Method</b></td>
					<td colspan="2" class="heavy-bottom" title="数据渲染" deta-title><b>Rendering</b></td>
					<td colspan="4" class="heavy-bottom" ><b></b></td> 
                    <!-- <td colspan="2" class="heavy-bottom" title="不与可视化互动" deta-title><b>Independent</b></td>
                    <td colspan="3" class="heavy-bottom" title="与可视化互动" deta-title><b>Relate to VIS</b></td> -->
					<td colspan="2" class="heavy-bottom" title="为颜色添加意义" deta-title><b>Semantics</b></td>
					<td colspan="4" class="heavy-bottom" title="配色方案" deta-title><b>Scheme</b></td>
					<td colspan="3" class="heavy-bottom" title="单个可视化" deta-title><b>Single</b></td>
					<td colspan="5" class="heavy-bottom" title="多个可视化" deta-title><b>Multiple</b></td>
					<td colspan="4" class="heavy-bottom" title="使用修辞" deta-title><b>Figurative Language</b></td>
					<td colspan="4" class="heavy-bottom" title="与读者对话" deta-title><b>Dialogue</b></td>
					<td colspan="3" class="heavy-bottom" title="设计情节" deta-title><b>Plot</b></td>
				</tr>



				<tr style="height: 200px;">
						<td name="si1" class="heavy" ><div style="margin-top: 100px;text-align: center;font-weight:900;"><span><small>Emotions</small></span></div></td>
						<td name="si2" class="heavy" ><div style="margin-top: 100px;text-align: center;font-weight:900;"><span><small>Number<br>of <br>Examples</small></span></div></td>

						<td name="si01" class=" si01 rotate" title="display information with text directly" deta-title><div><span><small id="si01">typography and text</small></span></div></td>
						<td name="si02" class=" si02 rotate" title="display information symbolically using geometric shapes like bar, line, slice, etc." deta-title ><div><span><small id="si02">statistical chart</small></span></div></td>
						<td name="si03" class=" si03 rotate" title="display information in a geographic scale " deta-title><div><span><small id="si03">map</small></span></div></td>
						<td name="si04" class=" si04 rotate" title="display relationship with node and links" deta-title><div><span><small id="si04">node-link diagram</small></span></div></td>
						<td name="si05" class=" si05 rotate" title="represent data quantity with stacked/stretched pictoral shapes " deta-title><div><span><small id="si05">ISOTYPE</small></span></div></td>
						<td name="si06" class=" si06 rotate" title="image the data symbols as something else with associated meaning" deta-title><div><span><small id="si06">visual metaphor</small></span></div></td>
						<td name="si07" class=" si07 rotate" title="put icons or images beside or under vis or text as little ornamants " deta-title><div><span><small id="si07" style="margin-left: 10px;">juxtaposition/superposition<br>&nbsp&nbspwith vis/text</small></span></div></td>
						<!-- <td name="si08" class=" si08 rotate" title="???" deta-title><div><span><small id="si08">decorative background image</small></span></div></td> -->
						<td name="si09" class=" si09 rotate" title="render the surface of the visualization with shading or texture to make it feel real" deta-title><div><span><small id="si09">physical rendering </small></span></div></td>
						<td name="si10" class=" si10 rotate" title="fill icons or images into the vis or text " deta-title><div><span><small id="si10">fill-in vis with texture/picture</small></span></div></td>
						<td name="si11" class=" si11 rotate" title="frame the elements into a recognizable scene by making their interrelated" deta-title><div><span><small id="si11">decorative framing</small></span></div></td>
						<td name="si12" class=" si12 rotate" title="use the color that has shared social meanings under certain context, e.g. red for danger" deta-title><div><span><small id="si12">conventional color </small></span></div></td>
						<td name="si13" class=" si13 rotate" title="use the natural or realistic color of an object" deta-title><div><span><small id="si13">natural/realistic color</small></span></div></td>
						<td name="si14" class=" si14 rotate" title="use one single hue in a color wheel" deta-title><div><span><small id="si14">monochromatic scheme</small></span></div></td>
						<td name="si15" class=" si15 rotate" title="use two opposite hues in a color wheel" deta-title><div><span><small id="si15">complementary scheme</small></span></div></td>
						<td name="si16" class=" si16 rotate" title="use three triangular hues in a color wheel" deta-title><div><span><small id="si16">triadic scheme</small></span></div></td>
						<td name="si17" class=" si17 rotate" title="use hues locate closely with each other in a color wheel" deta-title><div><span><small id="si17">analogous scheme</small></span></div></td>
						<td name="si18" class=" si18 rotate" title="arrange all the data point into a circle" deta-title><div><span><small id="si18">radial</small></span></div></td>
						<td name="si19" class=" si19 rotate" title="arrange all the data point in a curved sequence" deta-title><div><span><small id="si19">zigzag</small></span></div></td>
						<td name="si20" class=" si20 rotate" title="no special arrangement but all the elements can be fit into a bounding box" deta-title><div><span><small id="si20">bounding box</small></span></div></td>
						<td name="si21" class=" si21 rotate" title="arrange all the elements into multiple weighted panels" deta-title><div><span><small id="si21">tiled</small></span></div></td>
						<td name="si22" class=" si22 rotate" title="arrange all the elements into two parrallel panel with same weight" deta-title><div><span><small id="si22">parrallel</small></span></div></td>
						<td name="si23" class=" si23 rotate" title="arrange all the elements into a linear sequence" deta-title><div><span><small id="si23">linear</small></span></div></td>
						<td name="si24" class=" si24 rotate" title="arrange all the elements into multiple panels in which one panel is dominant" deta-title><div><span><small id="si24">large panel</small></span></div></td>
						<td name="si25" class=" si25 rotate" title="arrange all the elements into multiple panels where all panels have identical weight" deta-title><div><span><small id="si25">grid</small></span></div></td>
						<!-- <td name="si26" class=" si26 rotate" title="" deta-title><div><span><small id="si26">annotated / single vis</small></span></div></td> -->
						<td name="si27" class=" si27 rotate" title="relate one object or concept to a similar one " deta-title><div><span><small id="si27">metaphor / simile</small></span></div></td>
						<td name="si28" class=" si28 rotate" title="treat unliving objects as human" deta-title><div><span><small id="si28">personification</small></span></div></td>
						<td name="si29" class=" si29 rotate" title="compare two things with similar essence" deta-title><div><span><small id="si29">analogy</small></span></div></td>
						<td name="si30" class=" si30 rotate" title="sad something intendedly in contradictory meaning " deta-title><div><span><small id="si30">irony</small></span></div></td>
						<td name="si31" class=" si31 rotate" title="ask questions that don't need to be answered in order to spark interest or encourage thinking" deta-title><div><span><small id="si31">rhetorical question</small></span></div></td>
						<td name="si32" class=" si32 rotate" title="breaking the forth wall    address the audience directly and talk to them " deta-title><div><span><small id="si32">breaking the forth wall</small></span></div></td>
						<td name="si33" class=" si33 rotate" title="pursuade action by using a simple and power sentence" deta-title><div><span><small id="si33">calling to action / slogan</small></span></div></td>
						<td name="si34" class=" si34 rotate" title="give vision to coming things" deta-title><div><span><small id="si34">sketching the future</small></span></div></td>
						<td name="si35" class=" si35 rotate" title="constrcut the content in a contrastive way" deta-title><div><span><small id="si35">plot twist</small></span></div></td>
						<td name="si36" class=" si36 rotate" title="hide the truth in the first and show it in the end " deta-title><div><span><small id="si36">saving truth to the end</small></span></div></td>
						<td name="si37" class=" si37 rotate" title="do not draw any conclusion but give the floor to the reader" deta-title><div><span><small id="si37">open/loose ending</small></span></div></td>
						
						
						
	            <tr>
					<td class="heavy"><b>happy<br>excited<br>content<br>hopeful</b></td>
					<td class="heavy"><b>35</b></td>

						
						<td name="s101"  class="active-cell s101">10</td>
						<td name="s102"  class="active-cell s102">28
							<img src="src/star.png"  height="10" width="10" />
						</td>
						<td name="s103"  class="active-cell s103">7</td>
						<td name="s104"  class="active-cell s104">4</td>
						<td name="s105"  class="active-cell s105">7</td>
						<td name="s106"  class="active-cell s106">9</td>
						<td name="s107"  class="active-cell s107">25
							<img src="src/star.png"  height="10" width="10"/>
						</td>
						<!-- <td name="s108"  class="active-cell s108">6</td> -->
						<td name="s109"  class="active-cell s109">4</td>
						<td name="s110"  class="active-cell s110">1</td>
						<td name="s111"  class="active-cell s111">4</td>
						<td name="s112"  class="active-cell s112">3</td>
						<td name="s113"  class="active-cell s113">9</td>
						<td name="s114"  class="active-cell s114">9</td>
						<td name="s115"  class="active-cell s115">7</td>
						<td name="s116"  class="active-cell s116">11</td>
						<td name="s117"  class="active-cell s117">8</td>
						<td name="s118"  class="active-cell s118">4</td>
						<td name="s119"  class="active-cell s119">1</td>
						<td name="s120"  class="active-cell s120">13
							<img src="src/star.png"  height="10" width="10" />
						</td>
						<td name="s121"  class="active-cell s121">5</td>
						<td name="s122"  class="active-cell s122">2</td>
						<td name="s123"  class="active-cell s123">9</td>
						<td name="s124"  class="active-cell s124">0</td>
						<td name="s125"  class="active-cell s125">1</td>
						<!-- <td name="s126"  class="active-cell s126">0</td> -->
						<td name="s127"  class="active-cell s127">1</td>
						<td name="s128"  class="active-cell s128">21
							<img src="src/star.png"  height="10" width="10"/>
						</td>
						<td name="s129"  class="active-cell s129">16</td>
						<td name="s130"  class="active-cell s130">28
							<img src="src/star.png"  height="10" width="10"/>
						</td>
						<td name="s131"  class="active-cell s131">10</td>
						<td name="s132"  class="active-cell s132">1</td>
						<td name="s133"  class="active-cell s133">0</td>
						<td name="s134"  class="active-cell s134">3</td>
						<td name="s135"  class="active-cell s135">1</td>
						<td name="s136"  class="active-cell s136">0</td>
						<td name="s137"  class="active-cell s137">0</td>	
				</tr>



	            <tr>
					<td class="heavy"><b>suprised</b></td>
					<td class="heavy"><b>75</b></td>
					<td name="s201"  class="active-cell s201">23</td>
					<td name="s202"  class="active-cell s202">60
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s203"  class="active-cell s203">27</td>
					<td name="s204"  class="active-cell s204">2</td>
					<td name="s205"  class="active-cell s205">20</td>
					<td name="s206"  class="active-cell s206">13</td>
					<td name="s207"  class="active-cell s207">38
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<!-- <td name="s208"  class="active-cell s208">13</td> -->
					<td name="s209"  class="active-cell s209">14</td>
					<td name="s210"  class="active-cell s210">3</td>
					<td name="s211"  class="active-cell s211">8</td>
					<td name="s212"  class="active-cell s212">4</td>
					<td name="s213"  class="active-cell s213">14</td>
					<td name="s214"  class="active-cell s214">21
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s215"  class="active-cell s215">16</td>
					<td name="s216"  class="active-cell s216">28
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s217"  class="active-cell s217">10</td>
					<td name="s218"  class="active-cell s218">9</td>
					<td name="s219"  class="active-cell s219">0</td>
					<td name="s220"  class="active-cell s220">35
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s221"  class="active-cell s221">8</td>
					<td name="s222"  class="active-cell s222">1</td>
					<td name="s223"  class="active-cell s223">22</td>
					<td name="s224"  class="active-cell s224">2</td>
					<td name="s225"  class="active-cell s225">3</td>
					<!-- <td name="s226"  class="active-cell s226">0</td> -->
					<td name="s227"  class="active-cell s227">0</td>
					<td name="s228"  class="active-cell s228">0</td>
					<td name="s229"  class="active-cell s229">6</td>
					<td name="s230"  class="active-cell s230">1</td>
					<td name="s231"  class="active-cell s231">0</td>
					<td name="s232"  class="active-cell s232">1</td>
					<td name="s233"  class="active-cell s233">4</td>
					<td name="s234"  class="active-cell s234">7
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s235"  class="active-cell s235">2</td>
					<td name="s236"  class="active-cell s236">1</td>
					<td name="s237"  class="active-cell s237">1</td>
					

				</tr>


				<tr>
					<td class="heavy"><b>awestruck</b></td>
					<td class="heavy"><b>7</b></td>
					<td name="s301"  class="active-cell s301">1</td>
					<td name="s302"  class="active-cell s302">3
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s303"  class="active-cell s303">2</td>
					<td name="s304"  class="active-cell s304">1</td>
					<td name="s305"  class="active-cell s305">1</td>
					<td name="s306"  class="active-cell s306">1</td>
					<td name="s307"  class="active-cell s307">2</td>
					<!-- <td name="s308"  class="active-cell s308">2</td> -->
					<td name="s309"  class="active-cell s309">3
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s310"  class="active-cell s310">0</td>
					<td name="s311"  class="active-cell s311">1</td>
					<td name="s312"  class="active-cell s312">1</td>
					<td name="s313"  class="active-cell s313">0</td>
					<td name="s314"  class="active-cell s314">3
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s315"  class="active-cell s315">1</td>
					<td name="s316"  class="active-cell s316">1</td>
					<td name="s317"  class="active-cell s317">1</td>
					<td name="s318"  class="active-cell s318">1</td>
					<td name="s319"  class="active-cell s319">0</td>
					<td name="s320"  class="active-cell s320">3
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s321"  class="active-cell s321">1</td>
					<td name="s322"  class="active-cell s322">0</td>
					<td name="s323"  class="active-cell s323">1</td>
					<td name="s324"  class="active-cell s324">0</td>
					<td name="s325"  class="active-cell s325">0</td>
					<!-- <td name="s326"  class="active-cell s326">0</td> -->
					<td name="s327"  class="active-cell s327">0</td>
					<td name="s328"  class="active-cell s328">0</td>
					<td name="s329"  class="active-cell s329">1</td>
					<td name="s330"  class="active-cell s330">0</td>
					<td name="s331"  class="active-cell s331">0</td>
					<td name="s332"  class="active-cell s332">0</td>
					<td name="s333"  class="active-cell s333">0</td>
					<td name="s334"  class="active-cell s334">1</td>
					<td name="s335"  class="active-cell s335">1</td>
					<td name="s336"  class="active-cell s336">0</td>
					<td name="s337"  class="active-cell s337">0</td>
					
					
				</tr>

				<tr>
					<td class="heavy"><b>sad<br>concerned<br>shocked</b></td>
					<td  class="heavy"><b>123</b></td>
					<td name="s401"  class="active-cell s401">41
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s402"  class="active-cell s402">109
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s403"  class="active-cell s403">57
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s404"  class="active-cell s404">8</td>
					<td name="s405"  class="active-cell s405">33</td>
					<td name="s406"  class="active-cell s406">8</td>
					<td name="s407"  class="active-cell s407">54
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<!-- <td name="s408"  class="active-cell s408">16</td> -->
					<td name="s409"  class="active-cell s409">12</td>
					<td name="s410"  class="active-cell s410">6</td>
					<td name="s411"  class="active-cell s411">9</td>
					<td name="s412"  class="active-cell s412">4</td>
					<td name="s413"  class="active-cell s413">20</td>
					<td name="s414"  class="active-cell s414">30</td>
					<td name="s415"  class="active-cell s415">23</td>
					<td name="s416"  class="active-cell s416">35
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s417"  class="active-cell s417">19</td>
					<td name="s418"  class="active-cell s418">5</td>
					<td name="s419"  class="active-cell s419">1</td>
					<td name="s420"  class="active-cell s420">36
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s421"  class="active-cell s421">37
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s422"  class="active-cell s422">11</td>
					<td name="s423"  class="active-cell s423">21</td>
					<td name="s424"  class="active-cell s424">12</td>
					<td name="s425"  class="active-cell s425">3</td>
					<!-- <td name="s426"  class="active-cell s426">1</td> -->
					<td name="s427"  class="active-cell s427">3</td>
					<td name="s428"  class="active-cell s428">2</td>
					<td name="s429"  class="active-cell s429">3</td>
					<td name="s430"  class="active-cell s430">2</td>
					<td name="s431"  class="active-cell s431">2</td>
					<td name="s432"  class="active-cell s432">0</td>
					<td name="s433"  class="active-cell s433">11
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s434"  class="active-cell s434">15
						<img src="src/star.png"  height="10" width="10"/>
					</td>
					<td name="s435"  class="active-cell s435">4</td>
					<td name="s436"  class="active-cell s436">1</td>
					<td name="s437"  class="active-cell s437">0</td>
					
					
				</tr>
			<tbody>
		</table>

		<p style="text-align: center;font-size: 10px;">Copyright©2020 Intelligent Big Data Visualization Lab, Tongji University ,Shanghai, China</p>


</div>


	

	<!-- detail infoG -->

	<div class="container-fluid" id="cue-overlay-container">

		<div class="col-md-12 text-center" id="header">
			<h1>

				<button class='chevron-left'>
					<img src="src/left.png"  height="20" width="20" />
				</button>

				<span id="title"></span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<small>


				<button class='glyphicon-close'>
					<!-- <img src="src/close.png"  height="10" width="10" style="margin-right: 5px;"/> -->
				</button>
				<button class='chevron-right'>
					<img src="src/right.png" height="20px"  width="20px" />
				</button>
				
			</small>
			</h1>
		</div>

		<div class="col-md-8" id="img-container">
			<!-- <p id="loading">loading...</p> -->
			<img class="col-md-12" id="gif" />
			<small>&nbsp;</small><br/>
		</div>
		<div class="col-md-4" id="desc-container">
			<div class="col-md-12" id="description">
				<h3>Description:</h3>
				<p class="lead"></p>
				<small><em>Source:</em> <span id="source"></span></small><br/>
				<small><em>Topic:</em> <span id="topic"></span></small><br/>
			</div>
			<div class="col-md-12" id="dimensions">
				<h3>Design Skill:</h3>
				<h4 style="color:#3f5ea2">VISUAL DESIGN</h4>
				<small ><em>VISUAL REPRESENTATION:</em> <span style="color:#3f5ea2" id="d1"></span></small><br/>
				<small ><em><br>ORNAMENTATION:</em> <span style="color:#3f5ea2"  id="d2"></span></small><br/>
				<small ><em><br>COLOR:</em> <span style="color:#3f5ea2" id="d3"></span></small><br/>
				<small ><em><br>ARRANGEMENT:</em> <span style="color:#3f5ea2" id="d4"></span></small><br/>
				<h4 style="color:#d26d28">NARRATIVE</h4>
				<small  ><em><br>PHRASING:</em> <span  style="color:#d26d28" id="d5"></span></small><br/>
				<small ><em><br>TELLING:</em> <span style="color:#d26d28" id="d6"></span></small><br/>
			</div>
		</div>

	</div>


	<!-- draw function -->


	<script type="text/javascript">


	</script>


    <!-- click function -->

	<script type="text/javascript">

//tooltip
function detaTitle(){
    var deta_title = document.querySelectorAll("[deta-title]");
    for (var i = 0; i < deta_title.length; i++){
        deta_title[i].setAttribute("deta-title",deta_title[i].getAttribute("title"));
        deta_title[i].removeAttribute("title");
    }
}
detaTitle();


//loading
/*

var int=self.setInterval("clock()",50);
function clock()
{
document.getElementById("loading").innerHTML="loading";
}
function imgLoad(img, callback) {
var timer = setInterval(function() {

var int=self.setInterval("clock()",50);
function clock()
{
document.getElementById("loading").innerHTML="loading";
}

	console.log(img.complete)
if (img.complete) {
callback(img)
clearInterval(timer)
}else{
	document.getElementById("loading").innerHTML="loading";
}
}, 10)
}

imgLoad(gif, function() {
	document.getElementById("loading").innerHTML="loaded";
})

*/


//d3 事件
		var url = window.location.href,
			idx = 0,
			idp = 0,
			idl = 0;

		var skill = 0;
		var emotion = 0;
		var emotionText = 0;
		var table = new Array();

		url = url.split("?");
		
		if(url.length > 1){
			idx = parseInt(url[1]) - 1;
			d3.select("#cue-overlay-container")
				.classed("show",true);
		};

		d3.selectAll(".active-cell")
			.on("mouseover",function(){
				var classname = d3.select(this).attr("name");
				d3.selectAll("." + classname)
					.classed("highlighted",true);
					// .style("highlighted",true);
				// d3.selectAll(".active-cell")
				//   .classed("highlighted",true);
				return;
			})
			.on("mouseout",function(){
				var classname = d3.select(this).attr("name");
				d3.selectAll("." + classname)
					.classed("highlighted",false);
				return;
			})
			.on("mouseup",function(){
				var classname = d3.select(this).attr("name");
				//获取格子的横纵属性用于查询
				skill = "si"+ classname.slice(2,4);
				emotion = classname.slice(1,2);  //1 happy 2 surprised 3 a  4 concerned
				switch(emotion) {
    			 case "1":
				 emotion = "happy";
				 emotionText = "happy/excited/content/hopeful";
      			  break;
     			case "2":
				 emotion = "surprised";
				 emotionText= "surprised";
						break;
				case "3":
				emotionText = emotion = "awestruck";
				break;
				case "4":
				emotion = "concerned";
				emotionText ="sad/concerned/shocked";
       			 break;
   				  default:
      			  return null;
				}
				
				//动态创建查询列表
				table.length = 0; //refresh
				for(var i=0;i<cues.length;i++){
					
                if(cues[i].index.indexOf(emotion)  != -1  && cues[i][skill] == 1){
					table.push(cues[i]);
				}
				}
				
                idp = 0;
				idl = table.length;  //length 查询到的所有图片的length
				if(idl!=0){
					addContent(table);
					d3.select("#cue-overlay-container")
					.classed("show",true);}
			
				return;		
			});

		function addContent(table){
       //需要vpn
			var	data = table!=""?table[idp]:cues[3];
			    title = d3.select("#title"),
				description = d3.select("#description").select("p"),
				source = d3.select("#source"),
				gif = d3.select("#gif"),
				topic = d3.select("#topic"),
				dim1 = d3.select("#d1"),
				dim2 = d3.select("#d2"),
				dim3 = d3.select("#d3"),
				dim4 = d3.select("#d4"),
				dim5 = d3.select("#d5"),
				dim6 = d3.select("#d6"),
				// dim7 = d3.select("#d7");
			title.html(emotionText+" "+(idp+1)+"/"+idl);
			gif.attr("src",data.link )
				.attr("loop","infinite");
			var src = data.link; //识别本地图片和网络图片
				if(data.link.indexOf("src/")!=-1){src ="https://infographics-test.s3-us-west-1.amazonaws.com/"+data.link.slice(4) }
			source.html("<a href='" + src + "'>" + src + "</a>");
			topic.html(data.topic);
			description.html(data.des);

			var skillList1 = [];
			var skillList2 = [];
			var skillList3 = [];
			var skillList4 = [];
			var skillList5 = [];
			var skillList6 = [];
	// document.getElementById("gif").src = data.link;
			for(var m = 1;m<38;m++){
				var skillNum = "si"+m;
				if(m<10){skillNum = "si"+"0"+m;}
				if(data[skillNum]==1){
					if(0<m && m<=6){
						// if(skillList1==""){skillList1.push("●  "+document.getElementById(skillNum).innerHTML)}
						// else{skillList1.push("<br>●  "+document.getElementById(skillNum).innerHTML)}
						skillList1.push("<br>●  "+document.getElementById(skillNum).innerHTML)
						}
					if(6<m && m<=11){
						skillList2.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
					if(11<m&& m<=17){
						skillList3.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
					if(17<m && m<=26){
						skillList4.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
					if(26<m && m<=30){ 
						skillList5.push("<br>●  "+document.getElementById(skillNum).innerHTML)}
					if(30<m){
						skillList6.push("<br>●  "+document.getElementById(skillNum).innerHTML) }
				}
			}//为每张图片定制显示的skill


			if(skillList2=="")
			{skillList2.push("None");}
			if(skillList3=="")
			{skillList3.push("None");}
			if(skillList4=="")
			{skillList4.push("None");}
			if(skillList5=="")
			{skillList5.push("None");}
			if(skillList6=="")
			{skillList6.push("None");}

			dim1.html(skillList1);
			dim2.html(skillList2);
			dim3.html(skillList3);
			dim4.html(skillList4);
			dim5.html(skillList5);
			dim6.html(skillList6);
			// dim7.html(data.d7);
			return;
		};

		addContent(table);
		d3.select(".chevron-right")
			.on("mouseup",function(){
				if(idp < idl-1){  //length
					idp = idp + 1;
				}else{
					idp = 0;
				};
				addContent(table);
			});
		d3.select(".chevron-left")
			.on("mouseup",function(){
				if(idp > 0){
					idp = idp - 1;
				}else{
					idp = idl-1;
				};
				addContent(table);
			});
		d3.select(".glyphicon-close")
			.on("mouseup",function(){
				d3.select("#cue-overlay-container")
					.classed("show",false);
				return;
			});
</script>


	</script>

	

</body>

</html>